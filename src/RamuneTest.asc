/* * Copyright © 2008 The Regents of the University of California * All Rights Reserved *  * Created by Hector Guillermo Parra, hector@hectorparra.com * California Institute for Telecommunications and Information Technology * University of California, Irvine */var PASSWORD = "insomnia"; /* If I could only get some sleep *//********************************************************************//** * Called when Ramune starts */application.onAppStart = function() {	this.usersSO = SharedObject.get("clients", false);};/********************************************************************//** * Called when client connects */application.onConnect = function(client, username, password, nearID) {	if (username != null && password == PASSWORD) {			client.username = username;		client.nearID = nearID;			application.acceptConnection(client);		trace("Connected: " + client.username);		trace("> " + client.nearID);		trace("> " + client.id);		trace("> " + client.ip);		trace("> " + client.agent);		trace("> " + client.protocol);		trace("> " + client.pageUrl);			// save	    this.usersSO.setProperty(client.username, client);	}	else {		trace("Wrong Password or Invalid Username");	}};	/********************************************************************//** * Called when client disconnects */application.onDisconnect = function(client) {	application.usersSO.setProperty(client.username, null);	delete this.usersSO[client.username];	trace("Disconnected: " + client.username);};