<!--

Copyright Â© 2008 The Regents of the University of California
All Rights Reserved

Created by Hector Guillermo Parra, hector@hectorparra.com
California Institute for Telecommunications and Information Technology
University of California, Irvine

-->
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>${title}</title>
		<script type="text/javascript" src="javascripts/prototype.js"></script>
		<script type="text/javascript" src="javascripts/scriptaculous.js"></script>
		<script type="text/javascript" src="javascripts/sound.js"></script>
		<script type="text/javascript" src="javascripts/swfobject/swfobject.js"></script>
		<script type="text/javascript" src="javascripts/swfobject/FABridge.js"></script>
		<script type="text/javascript" src="javascripts/Ramune.js"></script>
		<script type="text/javascript" src="javascripts/window.js"></script>
		<script type="text/javascript" src="javascripts/RamuneTest.js"></script>
		<script type="text/javascript">	
		function onLoad() {

			random = String(Math.floor(Math.random() * 10000));
			
			document.forms['connection']['user_id'].value = 0;
			document.forms['streams']['remote_stream'].value = random;
			
			uid = random; //prompt("What is your username?", "random_" + random);

			initializeRamune(uid);
		}
		</script>
		<style type="text/css" media="all">
			body {
				margin: 0px;
				padding: 0px;
				min-width: 640px;
				min-height: 480px;
				color: #FFFFFF;
				background-color: #7AA9DD;
			}
			
			#console {
				margin: 0px;
				padding: 0px;
				width: 100%;
				height: 100%;
			}
			
			#camera_inner{
				float: left;
				width: 50%;
			}
			
			fieldset{
				background-color: #75A1D0;
			}
		</style>
	</head>
	<body onload="onLoad();">
			<h1>Ramune Test Interface</h1>
			<h2>Stratus Key: 957c10737240a05c0143ce7f-b33403f49938</h2>
			
			<!-- FMS NetConnection -->
			<form id="connection">
				<fieldset>
					<legend>Connection</legend>
					<dl>
						<dt><label for="protocol">Protocol://Server/Application</label></dt>
						<dd>
							<!-- Protocol -->
							<select id="protocol" name="protocol">
								<option value="rtmfp">RTMFP</option>
								<option value="rtmp">RTMP</option>
								<option value="rtmpe">RTMPE</option>
								<option value="rtmps">RTMPS</option>
								<option value="rtmpt">RTMPT</option>
								<option value="rtmpte">RTMPTE</option>
							</select>
							<!-- Server -->
							<input id="server" name="server" value="stratus.adobe.com">
							<!-- Application -->
							<input id="application" name="application" value="957c10737240a05c0143ce7f-b33403f49938">
							<!-- ID (Legacy. May change) -->
							<input id="user_id" name="user_id" value="0">
							<button id="connect" name="connect" type="button" onclick="connection()">Connect</button>
						</dd>
					</dl>
				</fieldset>
			</form>

			<!-- Stream -->
			<form id="streams">
				<fieldset>
					<legend>Stream</legend>
					<dl>
						<dt><label for="local_stream">Local Stream:</label></dt>
						<dd>
							<input id="local_stream" name="local_stream" value="0">
							<button id="publish" name="publish" type="button" onclick="publish_stream()">Publish</button>
							<button id="stop_publish" name="stop_publish" type="button" onclick="stop_publish_stream()">Stop</button>
						</dd>
						
						<dt><label for="remote_client">Remote Client:</label></dt>
						<dd>
							<input id="remote_client" name="remote_client" value="0">
							<button id="remote_client_connect" name="remote_client_connect" type="button" onclick="remote_client_connection()">Connect</button>
						</dd>
						
						<dt><label for="remote_stream">Remote Stream:</label></dt>
						<dd>
							<input id="remote_stream" name="remote_stream" value="0">
							<button id="play" name="play" type="button" onclick="play_stream()">Play</button>
						</dd>
					</dl>
				</fieldset>
			</form>

			<!-- User List -->
			<h3>Friends</h3><a href="#" onclick="display_client_list();">Refresh</a>
			<div id="users">
			</div>

			
			
			<!-- Local Client -->
			<!-- Local Client Name -->
			<!-- Local Client Key -->
			<!-- Local Client Version -->
			
			<div id="camera_inner">
			
			
			<form id="local_camera">
				<fieldset>
					<legend>Local Camera</legend>
					<dl>
					
						<!-- Local Camera List -->
						<!-- TODO: improve terminology -->
						<dt><label for="local_camera">Local Camera</label></dt>
						<!-- TODO: Make into pull-down list -->
						<dd>
							<div id="cams"></div>
						</dd>
					
						<!-- Local Bandwidth is an odd parameter. Why is it associated with only the camera? -->
						<!-- Local Bandwidth -->
						<dt><label for="local_bandwidth">Local Bandwidth (bps):</label></dt>
						<dd>
							<input id="local_bandwidth" name="local_bandwidth" value="100000">
							<button id="local_bandwidth_submit" name="local_bandwidth_submit" type="button" onclick="set_local_bandwidth(document.forms['local_camera']['local_bandwidth'].value)">Change</button>
						</dd>
						<!-- Local Quality -->
						<dt><label for="local_quality">Local Quality:</label></dt>
						<dd>
							<input id="local_quality" name="local_quality" value="90">
							<button id="local_quality_submit" name="local_quality_submit" type="button" onclick="set_local_quality(document.forms['local_camera']['local_quality'].value)">Change</button>
						</dd>
						
						<!-- Local Cam Mode -->
						<dt><label for="local_mode">Local Mode:</label></dt>
						<dd>
							<select id="local_mode" name="local_mode" onchange="set_local_cam_mode(document.forms['local_camera']['local_mode'].value)">
								<option value="160,120">(4:3) 160 x 120</option>
								<option value="320,240">(4:3) 320 x 240</option>
								<option value="640,480">(4:3) SD/NTSC (640 x 480)</option>
								<option value="800,600">(4:3) 800 x 600</option>
								<option value="960,720">(4:3) 960 x 720</option>
								<option value="1024,768">(4:3) 1024 x 768</option>
								<option value="1280,1024">(4:3) 1280 x 1024</option>
								<option value="1600,1200">(4:3) 1600 x 1200</option>
								<option value="320,180">(16:9) 320 x 180</option>
								<option value="480,270">(16:9) 480 x 270</option>
								<option value="640,360">(16:9) SD/NTSC (640 x 360)</option>
								<option value="720,480">(16:9) DV/NTSC (720 x 480)</option>
								<option value="720,480">(16:9) DVD (720 x 480)</option>
								<option value="1280,720">(16:9) HD 720p (1280 x 720)</option>
								<option value="1920,1080">(16:9) HD 1080p (1920 x 1080) NOT SUPPORTED</option>
							</select>
						</dd>
						<!-- Local Cam Size -->
						<dt><label for="local_size">Local Size:</label></dt>
						<dd>
							<select id="local_size" name="local_size" onchange="set_local_cam_size(document.forms['local_camera']['local_size'].value)">
								<option value="160,120">(4:3) 160 x 120</option>
								<option value="320,240">(4:3) 320 x 240</option>
								<option value="640,480">(4:3) SD/NTSC (640 x 480)</option>
								<option value="800,600">(4:3) 800 x 600</option>
								<option value="960,720">(4:3) 960 x 720</option>
								<option value="1024,768">(4:3) 1024 x 768</option>
								<option value="1280,1024">(4:3) 1280 x 1024</option>
								<option value="1600,1200">(4:3) 1600 x 1200</option>
								<option value="320,180">(16:9) 320 x 180</option>
								<option value="480,270">(16:9) 480 x 270</option>
								<option value="640,360">(16:9) SD/NTSC (640 x 360)</option>
								<option value="720,480">(16:9) DV/NTSC (720 x 480)</option>
								<option value="720,480">(16:9) DVD (720 x 480)</option>
								<option value="1280,720">(16:9) HD 720p (1280 x 720)</option>
								<option value="1920,1080">(16:9) HD 1080p (1920 x 1080) NOT SUPPORTED</option>
							</select>
						</dd>
						<!-- Local Cam FPS -->
						<dt><label for="local_fps">Local Cam FPS:</label></dt>
						<dd>
							<input id="local_fps" name="local_fps" value="30">
							<button id="local_fps_submit" name="local_fps_submit" type="button" onclick="set_local_fps(document.forms['local_camera']['local_fps'].value)">Change</button>
						</dd>
						<!-- Local Cam Keyframe -->
						<dt><label for="local_keyframe">Local Cam Keyframe:</label></dt>
						<dd>
							<input id="local_keyframe" name="local_keyframe" value="30">
							<button id="local_keyframe_submit" name="local_keyframe_submit" type="button" onclick="set_local_keyframe(document.forms['local_camera']['local_keyframe'].value)">Change</button>
						</dd>
						<!-- Local Cam Motion Level -->
						<dt><label for="local_motion_level">Local Cam Motion Level:</label></dt>
						<dd>
							<input id="local_motion_level" name="local_motion_level" value="0">
							<button id="local_motion_level_submit" name="local_motion_level_submit" type="button" onclick="set_local_motion_level(document.forms['local_camera']['local_motion_level'].value)">Change</button>
						</dd>
						<!-- Local Cam Timeout -->
						<dt><label for="local_timeout">Local Cam Timeout:</label></dt>
						<dd>
							<input id="local_timeout" name="local_timeout" value="0">
							<button id="local_timeout_submit" name="local_timeout_submit" type="button" onclick="set_local_timeout(document.forms['local_camera']['local_timeout'].value)">Change</button>
						</dd>
						<!-- Local Mic Rate -->
						<dt><label for="local_mic_rate">Local Mic Rate:</label></dt>
						<dd>
							<select id="local_mic_rate" name="local_mic_rate" onchange="set_local_mic_rate(document.forms['local_camera']['local_mic_rate'].value)">
								<option value="5">5 kHz</option>
								<option value="8">8 kHz</option>
								<option value="11">11 kHz</option>
								<option value="22">22 kHz</option>
								<option value="44">44 kHz</option>
							</select>
						</dd>
						<!-- Local Mic Echo Suppression -->
						<dt><label for="local_mic_echo_suppression">Local Mic Echo Suppression?</label></dt>
						<dd>
							<input id="local_mic_echo_suppression" name="local_mic_echo_suppression" type="checkbox" onclick="set_local_mic_echo_supression(document.forms['local_camera']['local_mic_echo_suppression'].value)">
						</dd>
						<!-- Local Mic Silence Level -->
						<dt><label for="local_mic_silence_level">Local Mic Silence Level:</label></dt>
						<dd>
							<input id="local_mic_silence_level" name="local_mic_silence_level" value="50">
							<button id="local_mic_silence_level_submit" name="local_mic_silence_level_submit" type="button" onclick="set_local_mic_silence_level(document.forms['local_camera']['local_mic_silence_level'].value)">Change</button>
						</dd>
						<!-- Local Mic Silence Timout -->
						<dt><label for="local_mic_silence_timeout">Local Mic Silence Timeout:</label></dt>
						<dd>
							<input id="local_mic_silence_timeout" name="local_mic_silence_timeout" value="50">
							<button id="local_mic_silence_timeout_submit" name="local_mic_silence_timeout_submit" type="button" onclick="set_local_mic_silence_timeout(document.forms['local_camera']['local_mic_silence_timeout'].value)">Change</button>
						</dd>
					</dl>
					<div id="RamuneLocal"></div>
				</fieldset>
			</form>
			</div>
			
			<!-- Remote Client[n] -->
			
			<div id="camera_inner">
			<form id="remote_camera">
				<fieldset>
					<legend>Remote Camera</legend>
					<dl>
						<dt><label for="remote_camera">Local Camera</label></dt>
						
						<!-- Remote Bandwidth -->
						<dt><label for="remote_bandwidth">Local Bandwidth (bps):</label></dt>
						<dd>
							<input id="remote_bandwidth" name="remote_bandwidth" value="100000">
							<button id="remote_bandwidth_submit" name="remote_bandwidth_submit" type="button" onclick="set_remote_bandwidth(document.forms['remote_camera']['remote_bandwidth'].value)">Change</button>
						</dd>
						<!-- Remote Quality -->
						<dt><label for="remote_quality">Local Quality:</label></dt>
						<dd>
							<input id="remote_quality" name="remote_quality" value="90">
							<button id="remote_quality_submit" name="remote_quality_submit" type="button" onclick="set_remote_quality(document.forms['remote_camera']['remote_quality'].value)">Change</button>
						</dd>
						
						<!-- Remote Cam Mode -->
						<dt><label for="remote_mode">Local Mode:</label></dt>
						<dd>
							<select id="remote_mode" name="remote_mode" onchange="set_remote_cam_mode(document.forms['remote_camera']['remote_mode'].value)">
								<option value="160,120">(4:3) 160 x 120</option>
								<option value="320,240">(4:3) 320 x 240</option>
								<option value="640,480">(4:3) SD/NTSC (640 x 480)</option>
								<option value="800,600">(4:3) 800 x 600</option>
								<option value="960,720">(4:3) 960 x 720</option>
								<option value="1024,768">(4:3) 1024 x 768</option>
								<option value="1280,1024">(4:3) 1280 x 1024</option>
								<option value="1600,1200">(4:3) 1600 x 1200</option>
								<option value="320,180">(16:9) 320 x 180</option>
								<option value="480,270">(16:9) 480 x 270</option>
								<option value="640,360">(16:9) SD/NTSC (640 x 360)</option>
								<option value="720,480">(16:9) DV/NTSC (720 x 480)</option>
								<option value="720,480">(16:9) DVD (720 x 480)</option>
								<option value="1280,720">(16:9) HD 720p (1280 x 720)</option>
								<option value="1920,1080">(16:9) HD 1080p (1920 x 1080) NOT SUPPORTED</option>
							</select>
						</dd>
						<!-- Remote Cam Size -->
						<dt><label for="remote_size">Local Size:</label></dt>
						<dd>
							<select id="remote_size" name="remote_size" onchange="set_remote_cam_size(document.forms['remote_camera']['remote_size'].value)">
								<option value="160,120">(4:3) 160 x 120</option>
								<option value="320,240">(4:3) 320 x 240</option>
								<option value="640,480">(4:3) SD/NTSC (640 x 480)</option>
								<option value="800,600">(4:3) 800 x 600</option>
								<option value="960,720">(4:3) 960 x 720</option>
								<option value="1024,768">(4:3) 1024 x 768</option>
								<option value="1280,1024">(4:3) 1280 x 1024</option>
								<option value="1600,1200">(4:3) 1600 x 1200</option>
								<option value="320,180">(16:9) 320 x 180</option>
								<option value="480,270">(16:9) 480 x 270</option>
								<option value="640,360">(16:9) SD/NTSC (640 x 360)</option>
								<option value="720,480">(16:9) DV/NTSC (720 x 480)</option>
								<option value="720,480">(16:9) DVD (720 x 480)</option>
								<option value="1280,720">(16:9) HD 720p (1280 x 720)</option>
								<option value="1920,1080">(16:9) HD 1080p (1920 x 1080) NOT SUPPORTED</option>
							</select>
						</dd>
						<!-- Remote Cam FPS -->
						<dt><label for="remote_fps">Local Cam FPS:</label></dt>
						<dd>
							<input id="remote_fps" name="remote_fps" value="30">
							<button id="remote_fps_submit" name="remote_fps_submit" type="button" onclick="set_remote_fps(document.forms['remote_camera']['remote_fps'].value)">Change</button>
						</dd>
						<!-- Remote Cam Keyframe -->
						<dt><label for="remote_keyframe">Local Cam Keyframe:</label></dt>
						<dd>
							<input id="remote_keyframe" name="remote_keyframe" value="30">
							<button id="remote_keyframe_submit" name="remote_keyframe_submit" type="button" onclick="set_remote_keyframe(document.forms['remote_camera']['remote_keyframe'].value)">Change</button>
						</dd>
						<!-- Remote Cam Motion Level -->
						<dt><label for="remote_motion_level">Local Cam Motion Level:</label></dt>
						<dd>
							<input id="remote_motion_level" name="remote_motion_level" value="0">
							<button id="remote_motion_level_submit" name="remote_motion_level_submit" type="button" onclick="set_remote_motion_level(document.forms['remote_camera']['remote_motion_level'].value)">Change</button>
						</dd>
						<!-- Remote Cam Timeout -->
						<dt><label for="remote_timeout">Local Cam Timeout:</label></dt>
						<dd>
							<input id="remote_timeout" name="remote_timeout" value="0">
							<button id="remote_timeout_submit" name="remote_timeout_submit" type="button" onclick="set_remote_timeout(document.forms['remote_camera']['remote_timeout'].value)">Change</button>
						</dd>
						<!-- Remote Mic Rate -->
						<dt><label for="remote_mic_rate">Local Mic Rate:</label></dt>
						<dd>
							<select id="remote_mic_rate" name="remote_mic_rate" onchange="set_remote_mic_rate(document.forms['remote_camera']['remote_mic_rate'].value)">
								<option value="5">5 kHz</option>
								<option value="8">8 kHz</option>
								<option value="11">11 kHz</option>
								<option value="22">22 kHz</option>
								<option value="44">44 kHz</option>
							</select>
						</dd>
						<!-- Remote Mic Echo Suppression -->
						<dt><label for="remote_mic_echo_suppression">Local Mic Echo Suppression?</label></dt>
						<dd>
							<input id="remote_mic_echo_suppression" name="remote_mic_echo_suppression" type="checkbox" onclick="set_remote_mic_echo_suppression(document.forms['remote_camera']['remote_mic_echo_suppression'].value)">
						</dd>
						<!-- Remote Mic Silence Level -->
						<dt><label for="remote_mic_silence_level">Local Mic Silence Level:</label></dt>
						<dd>
							<input id="remote_mic_silence_level" name="remote_mic_silence_level" value="50">
							<button id="remote_mic_silence_level_submit" name="remote_mic_silence_level_submit" type="button" onclick="set_remote_mic_silence_level(document.forms['remote_camera']['remote_mic_silence_level'].value)">Change</button>
						</dd>
						<!-- Remote Mic Silence Timout -->
						<dt><label for="remote_mic_silence_timeout">Local Mic Silence Timeout:</label></dt>
						<dd>
							<input id="remote_mic_silence_timeout" name="remote_mic_silence_timeout" value="50">
							<button id="remote_mic_silence_timeout_submit" name="remote_mic_silence_timeout_submit" type="button" onclick="set_remote_mic_silence_timeout(document.forms['remote_camera']['remote_mic_silence_timeout'].value)">Change</button>
						</dd>
					</dl>
				</fieldset>
			</form>
			</div>
			
			<div id="Ramune"></div>
			
			<!-- Debug -->
			<form id="debug">
				<textarea id="console" name="console"></textarea>
			</form>

	</body>
</html>